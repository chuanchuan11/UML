
> UML语言

**结构符号**

    结构符号代表了业务系统或软件系统中的某个简单事物。结构符号代表的简单事物有7种，分别是类(对象)、接口、主动类、用例、协作、构件和节点。下面分别介绍7种结构符号的表示法和含义  

1．类和对象

    类是对具有相同属性、相同操作以及相同关系的一组对象的共同特征的抽象，类是对一组对象共同特征的描述，即，类是对象的模板，而对象是类的一个实例。

(1)类的表示

    在UML中，类表示为一个长方形，垂直地把长方形分为三个区    

    顶部区域显示类的名字。中间的区域列出类的属性。底部的区域列出类的操作。在表示一个类时，类名不能省略，属性和操作可以省略。  

    我们可以在中间区域看到Flight类的3个属性：flightNumber，departureTime 和 flightDuration。    

    在底部区域中我们可以看到Flight类有两个操作：delayFlight 和 getArrivalTime。  

![image](https://user-images.githubusercontent.com/42632290/141607683-cbc908f9-c878-492d-ab5b-afe56cd4d483.png)  

                                            图 1: Flight类的类图  

(2)对象的表示  

>  对象也是用一个矩形表示的，但在矩形框中不再写出属性名和方法名，只是用“对象名：类名”的格式表示一个对象，并且，对象名和类名下面必须带下划线。例如，属于类People中的对象“李世民”的表示方法如图6所示。  

图6表示对象“李世民”的UML符号

| 李世民：People |
|----------------|

2．接口  

  因为外界是通过类或对象(或构件)的方法类访问对象或类的(或构件)，因此把类或构件的方法集合称为接口。接口向外界声明了类(或构件)能提供的服务。  

  接口分为供给接口和需求接口两种，供给接口只能向其他类(或构件)提供服务，需求接口表示类(或构件)需要用到其他类(或构件)提供的服务。  

上述两种接口的表示方法如图7所示。

![image](https://user-images.githubusercontent.com/42632290/141607852-283036d7-4104-4f36-b186-824248b0fc18.png)  

                                      图7 表示接口的UML符号

3．主动类

    一个对象可以是主动的也可以是被动的。主动对象是可以改变自身状态的对象。例如，定时器和时钟就可以在没有外部事件触发的情况下，能自已改变它们自身状态。通常使用进程或者线程来实现创建主动对象。被动对象只有在接受到消息后才会改变自身的状态。例如，银行账户的属性不会发生变化，除非银行账户(对象)接收到一条设置余额(一种用于更新账户余额的操作)的消息。因为大多数对象都是被动对象，所以，我们假设所有对象都是被动对象。

主动类是指创建主动对象的类。主动类的表示与一般类相似，只是最外框是粗线描述而已，如主动类Radio的表示方法如图8所示。

![image](https://user-images.githubusercontent.com/42632290/141607881-57b65f7a-3681-40ab-84da-1576e001b1f2.png)  

                                                图8 表示主动类Radio的符号

4．用例

    在系统中，为完成某个任务而执行的一系列动作的集合称为用例实例。用例是对一组用例实例共同行为的描述，这组用例实例具有相似的特征；用例实例是用例的一次具体执行过程，用例是对一组用例实例的描述。用例与用例实例的关系正如类与对象的关系。  

    在UML中，用例是用一个实线椭圆来表示的，在椭圆中写入用例名称，如用例“取款”的表示方法如图9所示。  

![image](https://user-images.githubusercontent.com/42632290/141607907-785900ef-adad-4daf-b8ec-72809a907862.png)  

                                 图9 用例“取款”的表示方法

5．构件

    构件也称组件，它是指系统设计中的一个相对独立的软件部件，它把功能实现部分隐藏在内部，对外声明了一组接口(包括供给接口和需求接口)。因此，两个具有相同接口的构件可以相互替换。

构件是比“对象”更大的软件部件，例如一个COM组件、一个DLL文件、一个JavaBeans以及一个执行文件都可以是构件。为了更好地在UML模型中对它们进行表示，于是引入了构件(也译为组件)。

构件通常采用带有两个小方框的矩型表示，构件的名字写在方框中，如图11所示。

![image](https://user-images.githubusercontent.com/42632290/141607944-44604a6f-08e8-4bfe-befa-af0ef696ea75.png)  

                                  图11 表示构件的UML符号

6．节点

    节点是指硬件系统中的物理部件，它通常具有存储空间或处理能力，如PC机、打印机、服务器、显示器等都是节点。在UML中，用一个立方体表示一个节点，例如，节点“显示器”的表示方法如图12所示。

![image](https://user-images.githubusercontent.com/42632290/141607962-71160b74-5b61-4aa8-bc92-e8e31f42d161.png)  

                                  图12 节点“显示器”的UML符号


**行为符号**

>   行为符号是用来表示业务系统或软件系统中事物之间的交互以及交互引起的事物本身的状态变化。描述这2个方面的符号也有2种：一种符号代表事物间的交互；一种符号代表事物本身的状态。

1．交互

    交互(interaction)是指为了完成某个任务的对象之间的相互作用，这种作用通过信息的发送和接收来完成。  

    交互的表示方法很简单，只需使用一条有向直线来表示对象间的交互，并在有向直线上方标注消息名称即可，如图13所示。  

![image](https://user-images.githubusercontent.com/42632290/141608057-f6861945-7a30-405f-b5e9-664fce77ee51.png)  

                                     图13 表示交互的UML符号

2．状态

    在对象生命周期内，在事件驱动下，对象从一种状态迁移到另一状态，这些状态序列就构成了状态机，即一个状态机由多个状态组成。

    在UML中，将状态表示为一个圆角矩形，并在矩形中写上状态名称。例如，手机处在“正在通话”状态的表示方法如图14所示。

![image](https://user-images.githubusercontent.com/42632290/141608072-78d06391-7794-4d67-9a8d-6c94f6635939.png)  

                                    图14 表示“正在通话”状态的UML符号


**分组符号**

    对于一个中大型的软件系统而言，通常会包含大量的类、接口以及协作，因此也就会存在大量的简单事物和行为特征，为了能有效地对这些事物进行分类和管理，就需要对其进行分组。在UML中可通过“包(Package)”来实现这一目标。  

    表示“包(Package)”的图形符号与Windows中表示文件夹的图符很相似，包的作用与文件夹的作用也很相似。如“java.awt”包的表示方法如图15所示。

![image](https://user-images.githubusercontent.com/42632290/141608173-6163abc7-fa13-45da-a9b3-d998fd56e817.png)  

                                   图15 表示“java.awt”包的UML符号  

**注释符号**

    在UML中，用来对其他事物进行解释的部分(文本解释)称为注释。注释符号用一个右上角折起来的矩形表示，解释的文字就写在矩形框中，如图16所示。

![image](https://user-images.githubusercontent.com/42632290/141608185-021e62b5-c790-4947-b302-32fd7ded83d6.png)  

                                   图16 表示注释的UML符号  

**构造块——关系符号的解释**

    在UML中，可以归纳为关联关系、实现关系、泛化关系、扩展关系和依赖关系5种，下面介绍这些关系的表示方法。  

1．关联关系

>   只要2个类之间存在某种关系，我们就认为2个类之间存在关联。关联是人们赋予事物之间的联系，即只要我们认为2个事物之间有某种联系，就认为事物之间存在关联。实现关系、泛化关系、扩展关系和依赖关系都属于关联关系，是更具体的关联关系。关联关系是最高层次的关系，在所有关系中，关联的语义最弱的。    

    在关联关系中，有两种比较特殊的关系，它们是聚合关系和组合关系。

(1)关联关系的表示  

>   关联关系是比较抽象的关系，它包含的语义较少；聚合关系和组合关系是更具体的关联关系，它包含的语义更具体。在UML中，使用一条实线来表示关联关系如图17所示。

![image](https://user-images.githubusercontent.com/42632290/141609047-d302417e-24c4-42b4-aea4-2a1a0b570866.png)  

                                        图17 表示关联关系的UML符号

(2)聚合关系  

>   聚合(Aggregation)是一种特殊形式的关联，表示类之间的关系是整体与部分的关系。聚合关系是一种松散的对象间关系——计算机与它的外围设备就是聚合关系。一台计算机和它的外设之间只是很松散地结合在一起，这些外设可有可无，可以与其他计算机共享。即，部分可以离开整体而存在  

>   聚合的表示方法如图所示。其中棱形端表示事物的整体，另一端表示事物的部分。如计算机就是整体，外设就是部分。  

![image](https://user-images.githubusercontent.com/42632290/141609066-0776f645-d7f6-43c2-afac-9d1dcb7bf4ef.png)  

                                        图18 聚合关系UML符号

(3)组合关系  

>   如果发现“部分”类的存在是完全依赖于“整体”类的，那么就应使用“组合”关系来描述。
>   组合关系是一种非常强的对象间关系，就像树和树叶之间的关系。树和它的叶子紧密联系在一起，叶子完全依赖树，它们不能被其他的树所分享，并且当树死去时，叶子也会随之死去--这就是组合，在组合关系中，部分依赖于整体而存在。组合是一种强的聚合关系，它的表示方法如图所示  

![image](https://user-images.githubusercontent.com/42632290/141609102-562ca9f1-47c6-44c4-981a-6fd3b8928e80.png)  

                                        图19 组合关系UML符号  

2．泛化关系

>   泛化关系描述了从特殊事物到一般事物之间的关系，也就是子类到父类之间的关系，或者子接口到父接口的关系。  
>   表示泛化关系的符号是从子类指向父类的带空心箭头的实线，其表示方法如图所示。其实就是继承关系。  

![image](https://user-images.githubusercontent.com/42632290/141609160-9915fb8d-3bc3-495e-98b3-890f5b37bb2e.png)  

                                        图20 表示泛化关系的UML符号  

3．实现关系

>   实现关系是用来规定接口与实现接口的类之间的关系。接口是操作的集合，这些操作声明了类或组件所提供的服务。  
>   表示实现关系的符号是从类指向接口的带空心箭头的虚线，其表示方法如图所示。  

![image](https://user-images.githubusercontent.com/42632290/141609197-ba25599c-2809-45d5-bca0-59dec8fe43ca.png)  

                                        图21 表示实现关系的UML符号  

4．依赖关系

>  假设有两个元素X、Y，如果元素X的值发生变化，就会引起元素Y的值的变化，则称元素Y依赖(Dependency)于元素X。依赖关系的表示如图21所示   
>  如果两个元素是类，则类间的依赖现象有多种，如: 一个类向另一个类发消息；一个类是另一个类的数据成员；一个类是另一个类的某个方法的参数或返回值    

![image](https://user-images.githubusercontent.com/42632290/141609231-4f417859-bc97-466e-b62a-84a9772d0269.png)  

                                         图22 表示依赖关系的UML符号  

    从本质上说，聚合、组合、泛化以及实现关系都属于依赖关系，但是它们有更特别的语义。

5．扩展关系  

>  在UML中，用一个带箭头的实线表示扩展关系，如图所示。这里的扩展含义是指对一个元类的扩展，即，通过扩展元类的语义，获得新的元类。

![image](https://user-images.githubusercontent.com/42632290/141609274-f6674988-ded9-487f-abc4-e2eff75f1533.png)

                                         图23 表示扩展关系的UML符号



> UML 元素可见性  

![image](https://user-images.githubusercontent.com/42632290/141609758-eea76fa4-b273-4606-aefd-54982cb21ab0.png)  

